<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://ryugibo.github.io/ueas/docs.css">
    <link rel="icon" href="https://ryugibo.github.io/ueas/favicon.svg">
    <title> Unreal Engine Angelscript | Actors and Components </title>
</head>
<body>
	<main>
		<nav>
			<a href="https:&#x2F;&#x2F;ryugibo.github.io&#x2F;ueas">
				<img src="https://ryugibo.github.io/ueas/angelscript_unreal.png" alt=""/>
			</a>

			<ul>
				<li>
					<a href="https:&#x2F;&#x2F;ryugibo.github.io&#x2F;ueas">Home</a>
				</li>
				<li>
					<a href="https://discord.gg/39wmC2e">Join Discord Server</a>
				</li>
				<li>
					<a href="https://angelscript.hazelight.se/api">Script API Reference</a>
				</li>
			</ul>

			<label>Getting Started</label>
				<ul>
				<li >
					<a href="https://ryugibo.github.io/ueas/getting-started/installation/">Installation</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/getting-started/introduction/">Scripting Introduction</a>
				</li>
				</ul>
			<label>Script Features</label>
				<ul>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/functions-and-events/">Functions and BlueprintEvents</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/properties-and-accessors/">Properties and Accessors</a>
				</li>
				<li class="active">
					<a href="https://ryugibo.github.io/ueas/scripting/actors-components/">Actors and Components</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/function-libraries/">Function Libraries</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/fname-literals/">FName Literals</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/format-strings/">Formatted Strings</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/structs-refs/">Structs and References</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/networking-features/">Networking Features</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/delegates/">Delegates and Events</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/mixin-methods/">Mixin Methods</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/gameplaytags/">Gameplay Tags</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/editor-script/">Editor-Only Script</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/subsystems/">Subsystems</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/script-tests/">Script Tests</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/scripting/cpp-differences/">Differences with Unreal C++</a>
				</li>
				</ul>
			<label>C++ Usage and Bindings</label>
				<ul>
				<li >
					<a href="https://ryugibo.github.io/ueas/cpp-bindings/automatic-bindings/">Automatic Bindings</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/cpp-bindings/mixin-libraries/">Script Mixin Libraries</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/cpp-bindings/precompiled-data/">Using Precompiled Scripts</a>
				</li>
				</ul>
			<label>UE-AS Development</label>
				<ul>
				<li >
					<a href="https://ryugibo.github.io/ueas/project/development-status/">Development Status</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/project/resources/">Resources and Links</a>
				</li>
				<li >
					<a href="https://ryugibo.github.io/ueas/project/license/">License</a>
				</li>
				</ul>
			</nav>
		<article>
			
	<h1 id="actors-and-components">Actors and Components<a class="zola-anchor" href="#actors-and-components" aria-label="Anchor link for: actors-and-components">ðŸ”—</a></h1>
<p>Actors and components are two of the fundamental gameplay types in unreal code.</p>
<p>Creating a new actor or component type in script is as simple as creating a new script file and adding a class that inherits from an actor type:</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AMyActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">}</span></div><br><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">UMyComponent</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">UActorComponent</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">}</span></div></div>
<blockquote>
<p><strong>Note:</strong> The script plugin automatically sets the most useful class flags for any script classes, adding a <code>UCLASS()</code> specifier is not necessary in script, but can still optionally be used to configure additional class settings.</p>
</blockquote>
<h2 id="default-components">Default Components<a class="zola-anchor" href="#default-components" aria-label="Anchor link for: default-components">ðŸ”—</a></h2>
<p>Unlike in C++, script classes do not make use of their constructors for creating components.
To add a default component to the actor, use the <code>DefaultComponent</code> specifier for them.
Default components are automatically created on the actor when it is spawned.</p>
<p>The following class will have two components on it when placed. A scene component at the root, and the custom <code>UMyComponent</code> we declared before:</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">USceneComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SceneRoot</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">UMyComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">MyComponent</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">}</span></div></div>
<h2 id="component-attachments">Component Attachments<a class="zola-anchor" href="#component-attachments" aria-label="Anchor link for: component-attachments">ðŸ”—</a></h2>
<p>Likewise, the default attachment hierarchy is specified in <code>UPROPERTY</code> specifiers, rather than set up in a constructor. Use the <code>Attach =</code> and <code>AttachSocket =</code> specifiers.</p>
<p>If an explicit attachment is not specified, the component will be attached to the actor's root.</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// Explicit root component</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">, </span><span style="color: #569cd6;">RootComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">USceneComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SceneRoot</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// Will be attached to SceneRoot by default, as no attachment is specified</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">USkeletalMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">CharacterMesh</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// Will be attached to the CharacterMesh' RightHand socket</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">, </span><span style="color: #569cd6;">Attach</span><span style="color: #d4d4d4;"> = CharacterMesh, </span><span style="color: #569cd6;">AttachSocket</span><span style="color: #d4d4d4;"> = RightHand)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">WeaponMesh</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// Will be attached to the WeaponMesh</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">, </span><span style="color: #569cd6;">Attach</span><span style="color: #d4d4d4;"> = WeaponMesh)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">ScopeMesh</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">}</span></div></div>

<img src="https://ryugibo.github.io/ueas/img/attach-hierarchy.png" alt="" />
<blockquote>
<p><strong>Note:</strong> You can explicitly note which component should be the default root component with the <code>RootComponent</code> specifier. If you do not add this specifier, the first component to be created will become the root.</p>
</blockquote>
<h2 id="default-statements">Default Statements<a class="zola-anchor" href="#default-statements" aria-label="Anchor link for: default-statements">ðŸ”—</a></h2>
<p>To assign default values to properties on the actor's components, you can use <code>default</code> statements:</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">, </span><span style="color: #569cd6;">RootComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">USceneComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SceneRoot</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">USkeletalMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">CharacterMesh</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// The character mesh is always placed a bit above the actor root</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">default</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">CharacterMesh</span><span style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">RelativeLocation</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">FVector</span><span style="color: #d4d4d4;">(</span><span style="color: #b5cea8;">0.0</span><span style="color: #d4d4d4;">, </span><span style="color: #b5cea8;">0.0</span><span style="color: #d4d4d4;">, </span><span style="color: #b5cea8;">50.0</span><span style="color: #d4d4d4;">);</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">ShieldMesh</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// The shield mesh is hidden by default, and should only appear when taking damage</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">default</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">ShieldMesh</span><span style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">bHiddenInGame</span><span style="color: #d4d4d4;"> = </span><span style="color: #569cd6;">true</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// The shield mesh should not have any collision</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">default</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">ShieldMesh</span><span style="color: #d4d4d4;">.</span><span style="color: #dcdcaa;">SetCollisionEnabled</span><span style="color: #d4d4d4;">(</span><span style="color: #4ec9b0;">ECollisionEnabled</span><span style="color: #d4d4d4;">::</span><span style="color: #9cdcfe;">NoCollision</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #d4d4d4;">}</span></div></div>
<h2 id="working-with-components">Working with Components<a class="zola-anchor" href="#working-with-components" aria-label="Anchor link for: working-with-components">ðŸ”—</a></h2>
<h3 id="retrieving-components">Retrieving Components<a class="zola-anchor" href="#retrieving-components" aria-label="Anchor link for: retrieving-components">ðŸ”—</a></h3>
<p>If you have an actor and want to find a component of a type on it, use <code>UMyComponentClass::Get()</code>:</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #4ec9b0;">AActor</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #6a9955;">// Retrieve the first skeletal mesh component we can find on the actor</span></div><div><span style="color: #4ec9b0;">USkeletalMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SkelComp</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">USkeletalMeshComponent</span><span style="color: #d4d4d4;">::</span><span style="color: #dcdcaa;">Get</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">);</span></div><br><div><span style="color: #6a9955;">// Find the specific skeletal mesh component with this component name</span></div><div><span style="color: #4ec9b0;">USkeletalMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">WeaponComp</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">USkeletalMeshComponent</span><span style="color: #d4d4d4;">::</span><span style="color: #dcdcaa;">Get</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">, n</span><span style="color: #ce9178;">"WeaponMesh"</span><span style="color: #d4d4d4;">);</span></div></div>
<p>If no component of the specified type exists, this will return <code>nullptr</code>.</p>
<p>Use <code>UMyComponentClass::GetOrCreate()</code> to retrieve a potential existing component, or create it if one does not exist already:</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #6a9955;">// Find our own interaction handling component on the actor.</span></div><div><span style="color: #6a9955;">// If it does not exist, create it.</span></div><div><span style="color: #4ec9b0;">UInteractionComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">InteractComp</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">UInteractionComponent</span><span style="color: #d4d4d4;">::</span><span style="color: #dcdcaa;">GetOrCreate</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">);</span></div><br><div><span style="color: #6a9955;">// Find an interaction handling component specifically named "ClimbingInteraction",</span></div><div><span style="color: #6a9955;">// or create a new one with that name</span></div><div><span style="color: #4ec9b0;">auto</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">ClimbComp</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">UInteractionComponent</span><span style="color: #d4d4d4;">::</span><span style="color: #dcdcaa;">GetOrCreate</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">, n</span><span style="color: #ce9178;">"ClimbingInteraction"</span><span style="color: #d4d4d4;">);</span></div></div>
<h3 id="adding-new-components">Adding New Components<a class="zola-anchor" href="#adding-new-components" aria-label="Anchor link for: adding-new-components">ðŸ”—</a></h3>
<p>Creating a new component works similarly by calling <code>UMyComponentClass::Create()</code>.
Specifying a component name is optional, if none is specified one will be automatically generated.</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #4ec9b0;">ACharacter</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">Character</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #6a9955;">// Create a new static mesh component on the character and attach it to the character mesh</span></div><div><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">NewComponent</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;">::</span><span style="color: #dcdcaa;">Create</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">Character</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #9cdcfe;">NewComponent</span><span style="color: #d4d4d4;">.</span><span style="color: #dcdcaa;">AttachToComponent</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">Character</span><span style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">Mesh</span><span style="color: #d4d4d4;">);</span></div></div>
<blockquote>
<p><strong>Tip:</strong> If you have a dynamic <code>TSubclassOf&lt;&gt;</code> or <code>UClass</code> for a component class, you can also use the generic functions on actors for these operations by using
<code>Actor.GetComponent()</code>, <code>Actor.GetOrCreateComponent()</code>, or <code>Actor.CreateComponent()</code></p>
</blockquote>
<h2 id="spawning-actors">Spawning Actors<a class="zola-anchor" href="#spawning-actors" aria-label="Anchor link for: spawning-actors">ðŸ”—</a></h2>
<p>Actors can be spawned by using the global <code>SpawnActor()</code> function:</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 17px;white-space: pre;"><div><span style="color: #6a9955;">// Spawn a new Example Actor at the specified location and rotation</span></div><div><span style="color: #4ec9b0;">FVector</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnLocation</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #4ec9b0;">FRotator</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnRotation</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnedActor</span><span style="color: #d4d4d4;"> = </span><span style="color: #dcdcaa;">SpawnActor</span><span style="color: #d4d4d4;">(</span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">SpawnLocation</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">SpawnRotation</span><span style="color: #d4d4d4;">);</span></div></div>
<h3 id="spawning-a-blueprinted-actor">Spawning a Blueprinted Actor<a class="zola-anchor" href="#spawning-a-blueprinted-actor" aria-label="Anchor link for: spawning-a-blueprinted-actor">ðŸ”—</a></h3>
<p>It is often needed to dynamically spawn an actor blueprint, rather than a script actor baseclass.
To do this, use a <code>TSubclassOf&lt;&gt;</code> property to reference the blueprint, and use the global <code>SpawnActor()</code> function.</p>
<p>An example of a spawner actor that can be configured to spawn any blueprint of an example actor:</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 17px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AExampleSpawner</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">/**</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;* Which blueprint example actor class to spawn.</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;* This needs to be configured either in the level,</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;* or on a blueprint child class of the spawner.</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;*/</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">()</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">TSubclassOf</span><span style="color: #d4d4d4;">&lt;</span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;">&gt; </span><span style="color: #9cdcfe;">ActorClass</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UFUNCTION</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">BlueprintOverride</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">void</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcaa;">BeginPlay</span><span style="color: #d4d4d4;">()</span></div><div><span style="color: #d4d4d4;">&#160; &#160; {</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; </span><span style="color: #4ec9b0;">FVector</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnLocation</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; </span><span style="color: #4ec9b0;">FRotator</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnRotation</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; </span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnedActor</span><span style="color: #d4d4d4;"> = </span><span style="color: #dcdcaa;">SpawnActor</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">ActorClass</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">SpawnLocation</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">SpawnRotation</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #d4d4d4;">&#160; &#160; }</span></div><div><span style="color: #d4d4d4;">}</span></div></div>
<h2 id="construction-script">Construction Script<a class="zola-anchor" href="#construction-script" aria-label="Anchor link for: construction-script">ðŸ”—</a></h2>
<p>Actor construction script can be added by overriding the <code>ConstructionScript()</code> blueprint event.
From construction scripts, you can create new components and override properties like normal.</p>
<p>For example, an actor that creates a variable amount of meshes inside it based on its settings in the level could look like this:</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// How many meshes to place on the actor</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">()</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">int</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnMeshCount</span><span style="color: #d4d4d4;"> = </span><span style="color: #b5cea8;">5</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// Which static mesh to place</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">()</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">UStaticMesh</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">MeshAsset</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UFUNCTION</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">BlueprintOverride</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">void</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcaa;">ConstructionScript</span><span style="color: #d4d4d4;">()</span></div><div><span style="color: #d4d4d4;">&#160; &#160; {</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; </span><span style="color: #dcdcaa;">Print</span><span style="color: #d4d4d4;">(</span><span style="color: #d7ba7d;">f"</span><span style="color: #ce9178;">Spawning </span><span style="color: #569cd6;">{</span><span style="color: #9cdcfe;">SpawnMeshCount</span><span style="color: #569cd6;">}</span><span style="color: #ce9178;"> meshes from construction script!</span><span style="color: #d7ba7d;">"</span><span style="color: #d4d4d4;">);</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; </span><span style="color: #569cd6;">for</span><span style="color: #d4d4d4;"> (</span><span style="color: #569cd6;">int</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">i</span><span style="color: #d4d4d4;"> = </span><span style="color: #b5cea8;">0</span><span style="color: #d4d4d4;">; </span><span style="color: #9cdcfe;">i</span><span style="color: #d4d4d4;"> &lt; </span><span style="color: #9cdcfe;">SpawnMeshCount</span><span style="color: #d4d4d4;">; ++</span><span style="color: #9cdcfe;">i</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; {</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; &#160; &#160; </span><span style="color: #6a9955;">// Construct a new static mesh on this actor</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; &#160; &#160; </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">MeshComp</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;">::</span><span style="color: #dcdcaa;">Create</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">this</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; &#160; &#160; </span><span style="color: #6a9955;">// Set the mesh we wanted for it</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; &#160; &#160; </span><span style="color: #9cdcfe;">MeshComp</span><span style="color: #d4d4d4;">.</span><span style="color: #dcdcaa;">SetStaticMesh</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">MeshAsset</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; }</span></div><div><span style="color: #d4d4d4;">&#160; &#160; }</span></div><div><span style="color: #d4d4d4;">}</span></div></div>
<h2 id="getting-all-actors-or-components">Getting All Actors or Components<a class="zola-anchor" href="#getting-all-actors-or-components" aria-label="Anchor link for: getting-all-actors-or-components">ðŸ”—</a></h2>
<p>To get all components of a particular type that are on an actor, use <code>Actor.GetComponentsByClass()</code> and pass in the array.
This function takes a <code>?</code> parameter, and will determine which component type to look for by the type of array you pass in.</p>
<p>For example, to get all static meshes on an actor:</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #4ec9b0;">AActor</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #4ec9b0;">TArray</span><span style="color: #d4d4d4;">&lt;</span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;">&gt; </span><span style="color: #9cdcfe;">StaticMeshComponents</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">.</span><span style="color: #dcdcaa;">GetComponentsByClass</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">StaticMeshComponents</span><span style="color: #d4d4d4;">);</span></div><br><div><span style="color: #569cd6;">for</span><span style="color: #d4d4d4;"> (</span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">MeshComp</span><span style="color: #d4d4d4;"> : </span><span style="color: #9cdcfe;">StaticMeshComponents</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #dcdcaa;">Print</span><span style="color: #d4d4d4;">(</span><span style="color: #d7ba7d;">f"</span><span style="color: #ce9178;">Static Mesh Component: </span><span style="color: #569cd6;">{</span><span style="color: #9cdcfe;">MeshComp</span><span style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">Name</span><span style="color: #569cd6;">}</span><span style="color: #d7ba7d;">"</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #d4d4d4;">}</span></div></div>
<p>Similarly, to get all actors of a particular type that are currently in the world, use the <code>GetAllActorsOfClass()</code> global function, and pass in an array of the type of actor you want:</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #6a9955;">// Find all niagara actors currently in the level</span></div><div><span style="color: #4ec9b0;">TArray</span><span style="color: #d4d4d4;">&lt;</span><span style="color: #4ec9b0;">ANiagaraActor</span><span style="color: #d4d4d4;">&gt; </span><span style="color: #9cdcfe;">NiagaraActors</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #dcdcaa;">GetAllActorsOfClass</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">NiagaraActors</span><span style="color: #d4d4d4;">);</span></div></div>
<blockquote>
<p><strong>Note:</strong> Getting all actors of a class requires iterating all actors in the level, and should not be used from performance-sensitive contexts.
That is, try running it once and storing the value rather than using it every tick.</p>
</blockquote>
<h2 id="override-components">Override Components<a class="zola-anchor" href="#override-components" aria-label="Anchor link for: override-components">ðŸ”—</a></h2>
<p>Unreal provides a mechanism for overriding one of a parent actor class' default components to use a child component class instead of the one specified on the parent actor.
In script, this can be accessed by using the <code>OverrideComponent</code> specifier:</p>
<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">ABaseActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// This base actor specifies a root component that is just a scene component</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">, </span><span style="color: #569cd6;">RootComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">USceneComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SceneRoot</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">}</span></div><br><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AChildActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">ABaseActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">/**</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;* Because static meshes are a type of scene component,</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;* we can use an override component to turn the base class' root</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;* scene component into a static mesh.</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;*/</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">OverrideComponent</span><span style="color: #d4d4d4;"> = SceneRoot)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">RootStaticMesh</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">}</span></div></div>
<blockquote>
<p><strong>Note:</strong> Override components are similar to using <code>ObjectInitializer.SetDefaultSubobjectClass()</code> in a C++ constructor.</p>
</blockquote>

</article>
	</main>
</body>