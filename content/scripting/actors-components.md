+++
title = "Actors and Components"
weight = 25
sort_by = "weight"
+++

# Actors and Components
Actors and components are two of the fundamental gameplay types in unreal code.

Creating a new actor or component type in script is as simple as creating a new script file and adding a class that inherits from an actor type:

<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AMyActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">}</span></div><br><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">UMyComponent</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">UActorComponent</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">}</span></div></div>

> **Note:** The script plugin automatically sets the most useful class flags for any script classes, adding a `UCLASS()` specifier is not necessary in script, but can still optionally be used to configure additional class settings.

## Default Components
Unlike in C++, script classes do not make use of their constructors for creating components.
To add a default component to the actor, use the `DefaultComponent` specifier for them.
Default components are automatically created on the actor when it is spawned.

The following class will have two components on it when placed. A scene component at the root, and the custom `UMyComponent` we declared before:

<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">USceneComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SceneRoot</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">UMyComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">MyComponent</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">}</span></div></div>

## Component Attachments
Likewise, the default attachment hierarchy is specified in `UPROPERTY` specifiers, rather than set up in a constructor. Use the `Attach =` and `AttachSocket =` specifiers.

If an explicit attachment is not specified, the component will be attached to the actor's root.

<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// Explicit root component</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">, </span><span style="color: #569cd6;">RootComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">USceneComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SceneRoot</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// Will be attached to SceneRoot by default, as no attachment is specified</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">USkeletalMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">CharacterMesh</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// Will be attached to the CharacterMesh' RightHand socket</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">, </span><span style="color: #569cd6;">Attach</span><span style="color: #d4d4d4;"> = CharacterMesh, </span><span style="color: #569cd6;">AttachSocket</span><span style="color: #d4d4d4;"> = RightHand)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">WeaponMesh</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// Will be attached to the WeaponMesh</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">, </span><span style="color: #569cd6;">Attach</span><span style="color: #d4d4d4;"> = WeaponMesh)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">ScopeMesh</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">}</span></div></div>

{{ img(path="attach-hierarchy.png") }}

> **Note:** You can explicitly note which component should be the default root component with the `RootComponent` specifier. If you do not add this specifier, the first component to be created will become the root.

## Default Statements
To assign default values to properties on the actor's components, you can use `default` statements:

<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">, </span><span style="color: #569cd6;">RootComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">USceneComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SceneRoot</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">USkeletalMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">CharacterMesh</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// The character mesh is always placed a bit above the actor root</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">default</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">CharacterMesh</span><span style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">RelativeLocation</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">FVector</span><span style="color: #d4d4d4;">(</span><span style="color: #b5cea8;">0.0</span><span style="color: #d4d4d4;">, </span><span style="color: #b5cea8;">0.0</span><span style="color: #d4d4d4;">, </span><span style="color: #b5cea8;">50.0</span><span style="color: #d4d4d4;">);</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">ShieldMesh</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// The shield mesh is hidden by default, and should only appear when taking damage</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">default</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">ShieldMesh</span><span style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">bHiddenInGame</span><span style="color: #d4d4d4;"> = </span><span style="color: #569cd6;">true</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// The shield mesh should not have any collision</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">default</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">ShieldMesh</span><span style="color: #d4d4d4;">.</span><span style="color: #dcdcaa;">SetCollisionEnabled</span><span style="color: #d4d4d4;">(</span><span style="color: #4ec9b0;">ECollisionEnabled</span><span style="color: #d4d4d4;">::</span><span style="color: #9cdcfe;">NoCollision</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #d4d4d4;">}</span></div></div>

## Working with Components
### Retrieving Components
If you have an actor and want to find a component of a type on it, use `UMyComponentClass::Get()`:

<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #4ec9b0;">AActor</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #6a9955;">// Retrieve the first skeletal mesh component we can find on the actor</span></div><div><span style="color: #4ec9b0;">USkeletalMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SkelComp</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">USkeletalMeshComponent</span><span style="color: #d4d4d4;">::</span><span style="color: #dcdcaa;">Get</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">);</span></div><br><div><span style="color: #6a9955;">// Find the specific skeletal mesh component with this component name</span></div><div><span style="color: #4ec9b0;">USkeletalMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">WeaponComp</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">USkeletalMeshComponent</span><span style="color: #d4d4d4;">::</span><span style="color: #dcdcaa;">Get</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">, n</span><span style="color: #ce9178;">"WeaponMesh"</span><span style="color: #d4d4d4;">);</span></div></div>

If no component of the specified type exists, this will return `nullptr`.

Use `UMyComponentClass::GetOrCreate()` to retrieve a potential existing component, or create it if one does not exist already:

<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #6a9955;">// Find our own interaction handling component on the actor.</span></div><div><span style="color: #6a9955;">// If it does not exist, create it.</span></div><div><span style="color: #4ec9b0;">UInteractionComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">InteractComp</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">UInteractionComponent</span><span style="color: #d4d4d4;">::</span><span style="color: #dcdcaa;">GetOrCreate</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">);</span></div><br><div><span style="color: #6a9955;">// Find an interaction handling component specifically named "ClimbingInteraction",</span></div><div><span style="color: #6a9955;">// or create a new one with that name</span></div><div><span style="color: #4ec9b0;">auto</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">ClimbComp</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">UInteractionComponent</span><span style="color: #d4d4d4;">::</span><span style="color: #dcdcaa;">GetOrCreate</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">, n</span><span style="color: #ce9178;">"ClimbingInteraction"</span><span style="color: #d4d4d4;">);</span></div></div>

### Adding New Components
Creating a new component works similarly by calling `UMyComponentClass::Create()`.
Specifying a component name is optional, if none is specified one will be automatically generated.

<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #4ec9b0;">ACharacter</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">Character</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #6a9955;">// Create a new static mesh component on the character and attach it to the character mesh</span></div><div><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">NewComponent</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;">::</span><span style="color: #dcdcaa;">Create</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">Character</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #9cdcfe;">NewComponent</span><span style="color: #d4d4d4;">.</span><span style="color: #dcdcaa;">AttachToComponent</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">Character</span><span style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">Mesh</span><span style="color: #d4d4d4;">);</span></div></div>

> **Tip:** If you have a dynamic `TSubclassOf<>` or `UClass` for a component class, you can also use the generic functions on actors for these operations by using
> `Actor.GetComponent()`, `Actor.GetOrCreateComponent()`, or `Actor.CreateComponent()`

## Spawning Actors
Actors can be spawned by using the global `SpawnActor()` function:

<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 17px;white-space: pre;"><div><span style="color: #6a9955;">// Spawn a new Example Actor at the specified location and rotation</span></div><div><span style="color: #4ec9b0;">FVector</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnLocation</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #4ec9b0;">FRotator</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnRotation</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnedActor</span><span style="color: #d4d4d4;"> = </span><span style="color: #dcdcaa;">SpawnActor</span><span style="color: #d4d4d4;">(</span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">SpawnLocation</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">SpawnRotation</span><span style="color: #d4d4d4;">);</span></div></div>

### Spawning a Blueprinted Actor
It is often needed to dynamically spawn an actor blueprint, rather than a script actor baseclass.
To do this, use a `TSubclassOf<>` property to reference the blueprint, and use the global `SpawnActor()` function.

An example of a spawner actor that can be configured to spawn any blueprint of an example actor:

<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 17px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AExampleSpawner</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">/**</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;* Which blueprint example actor class to spawn.</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;* This needs to be configured either in the level,</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;* or on a blueprint child class of the spawner.</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;*/</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">()</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">TSubclassOf</span><span style="color: #d4d4d4;">&lt;</span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;">&gt; </span><span style="color: #9cdcfe;">ActorClass</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UFUNCTION</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">BlueprintOverride</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">void</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcaa;">BeginPlay</span><span style="color: #d4d4d4;">()</span></div><div><span style="color: #d4d4d4;">&#160; &#160; {</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; </span><span style="color: #4ec9b0;">FVector</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnLocation</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; </span><span style="color: #4ec9b0;">FRotator</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnRotation</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; </span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnedActor</span><span style="color: #d4d4d4;"> = </span><span style="color: #dcdcaa;">SpawnActor</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">ActorClass</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">SpawnLocation</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">SpawnRotation</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #d4d4d4;">&#160; &#160; }</span></div><div><span style="color: #d4d4d4;">}</span></div></div>


## Construction Script
Actor construction script can be added by overriding the `ConstructionScript()` blueprint event.
From construction scripts, you can create new components and override properties like normal.

For example, an actor that creates a variable amount of meshes inside it based on its settings in the level could look like this:

<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AExampleActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// How many meshes to place on the actor</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">()</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">int</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SpawnMeshCount</span><span style="color: #d4d4d4;"> = </span><span style="color: #b5cea8;">5</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// Which static mesh to place</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">()</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">UStaticMesh</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">MeshAsset</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UFUNCTION</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">BlueprintOverride</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #569cd6;">void</span><span style="color: #d4d4d4;"> </span><span style="color: #dcdcaa;">ConstructionScript</span><span style="color: #d4d4d4;">()</span></div><div><span style="color: #d4d4d4;">&#160; &#160; {</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; </span><span style="color: #dcdcaa;">Print</span><span style="color: #d4d4d4;">(</span><span style="color: #d7ba7d;">f"</span><span style="color: #ce9178;">Spawning </span><span style="color: #569cd6;">{</span><span style="color: #9cdcfe;">SpawnMeshCount</span><span style="color: #569cd6;">}</span><span style="color: #ce9178;"> meshes from construction script!</span><span style="color: #d7ba7d;">"</span><span style="color: #d4d4d4;">);</span></div><br><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; </span><span style="color: #569cd6;">for</span><span style="color: #d4d4d4;"> (</span><span style="color: #569cd6;">int</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">i</span><span style="color: #d4d4d4;"> = </span><span style="color: #b5cea8;">0</span><span style="color: #d4d4d4;">; </span><span style="color: #9cdcfe;">i</span><span style="color: #d4d4d4;"> &lt; </span><span style="color: #9cdcfe;">SpawnMeshCount</span><span style="color: #d4d4d4;">; ++</span><span style="color: #9cdcfe;">i</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; {</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; &#160; &#160; </span><span style="color: #6a9955;">// Construct a new static mesh on this actor</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; &#160; &#160; </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">MeshComp</span><span style="color: #d4d4d4;"> = </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;">::</span><span style="color: #dcdcaa;">Create</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">this</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; &#160; &#160; </span><span style="color: #6a9955;">// Set the mesh we wanted for it</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; &#160; &#160; </span><span style="color: #9cdcfe;">MeshComp</span><span style="color: #d4d4d4;">.</span><span style="color: #dcdcaa;">SetStaticMesh</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">MeshAsset</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #d4d4d4;">&#160; &#160; &#160; &#160; }</span></div><div><span style="color: #d4d4d4;">&#160; &#160; }</span></div><div><span style="color: #d4d4d4;">}</span></div></div>

## Getting All Actors or Components
To get all components of a particular type that are on an actor, use `Actor.GetComponentsByClass()` and pass in the array.
This function takes a `?` parameter, and will determine which component type to look for by the type of array you pass in.

For example, to get all static meshes on an actor:

<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #4ec9b0;">AActor</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">;</span></div><br><div><span style="color: #4ec9b0;">TArray</span><span style="color: #d4d4d4;">&lt;</span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;">&gt; </span><span style="color: #9cdcfe;">StaticMeshComponents</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #9cdcfe;">Actor</span><span style="color: #d4d4d4;">.</span><span style="color: #dcdcaa;">GetComponentsByClass</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">StaticMeshComponents</span><span style="color: #d4d4d4;">);</span></div><br><div><span style="color: #569cd6;">for</span><span style="color: #d4d4d4;"> (</span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">MeshComp</span><span style="color: #d4d4d4;"> : </span><span style="color: #9cdcfe;">StaticMeshComponents</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #dcdcaa;">Print</span><span style="color: #d4d4d4;">(</span><span style="color: #d7ba7d;">f"</span><span style="color: #ce9178;">Static Mesh Component: </span><span style="color: #569cd6;">{</span><span style="color: #9cdcfe;">MeshComp</span><span style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">Name</span><span style="color: #569cd6;">}</span><span style="color: #d7ba7d;">"</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #d4d4d4;">}</span></div></div>

Similarly, to get all actors of a particular type that are currently in the world, use the `GetAllActorsOfClass()` global function, and pass in an array of the type of actor you want:

<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #6a9955;">// Find all niagara actors currently in the level</span></div><div><span style="color: #4ec9b0;">TArray</span><span style="color: #d4d4d4;">&lt;</span><span style="color: #4ec9b0;">ANiagaraActor</span><span style="color: #d4d4d4;">&gt; </span><span style="color: #9cdcfe;">NiagaraActors</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #dcdcaa;">GetAllActorsOfClass</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">NiagaraActors</span><span style="color: #d4d4d4;">);</span></div></div>

> **Note:** Getting all actors of a class requires iterating all actors in the level, and should not be used from performance-sensitive contexts.
> That is, try running it once and storing the value rather than using it every tick.

## Override Components
Unreal provides a mechanism for overriding one of a parent actor class' default components to use a child component class instead of the one specified on the parent actor.
In script, this can be accessed by using the `OverrideComponent` specifier:

<div class="code_block" style="color: #d4d4d4;background-color: #1e1e1e;font-family: 'Terminus (TTF) for Windows', Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;"><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">ABaseActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">AActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">// This base actor specifies a root component that is just a scene component</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">DefaultComponent</span><span style="color: #d4d4d4;">, </span><span style="color: #569cd6;">RootComponent</span><span style="color: #d4d4d4;">)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">USceneComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">SceneRoot</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">}</span></div><br><div><span style="color: #569cd6;">class</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">AChildActor</span><span style="color: #d4d4d4;"> : </span><span style="color: #4ec9b0;">ABaseActor</span></div><div><span style="color: #d4d4d4;">{</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #6a9955;">/**</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;* Because static meshes are a type of scene component,</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;* we can use an override component to turn the base class' root</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;* scene component into a static mesh.</span></div><div><span style="color: #6a9955;">&#160; &#160; &#160;*/</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4fc1ff;">UPROPERTY</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">OverrideComponent</span><span style="color: #d4d4d4;"> = SceneRoot)</span></div><div><span style="color: #d4d4d4;">&#160; &#160; </span><span style="color: #4ec9b0;">UStaticMeshComponent</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">RootStaticMesh</span><span style="color: #d4d4d4;">;</span></div><div><span style="color: #d4d4d4;">}</span></div></div>

> **Note:** Override components are similar to using `ObjectInitializer.SetDefaultSubobjectClass()` in a C++ constructor.